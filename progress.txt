# Localization Progress Tracker

**Project:** Omi Flutter App - Hardcoded String Localization
**Created:** 2026-01-20
**Status:** IN PROGRESS

## Summary

| Metric | Value |
|--------|-------|
| Total Files | 27 |
| Total Strings | ~125 |
| Completed | 13 |
| In Progress | 0 |
| Pending | 14 |
| Progress | 48% |

================================================================================
## PRIORITY 1: HIGH IMPACT - User-Facing Features (~65 strings)
================================================================================

### [x] pages/conversation_detail/widgets/create_template_bottom_sheet.dart (~20 strings)
Status: COMPLETED
Note: Added 14 new l10n keys to all 34 language ARB files and updated the Dart file to use
context.l10n pattern. Keys added: templateName, templateNameHint, nameMustBeAtLeast3Characters,
conversationPromptHint, pleaseEnterAppPrompt, promptMustBeAtLeast10Characters,
anyoneCanDiscoverTemplate, onlyYouCanUseTemplate, generatingDescription, creatingAppIcon,
installingApp, appCreatedAndInstalled, appCreatedSuccessfully, failedToCreateApp.
Reused existing keys: createCustomTemplate, conversationPrompt, pleaseEnterAppName, makePublic,
createApp, creatingYourApp.

### [x] pages/apps/providers/add_app_provider.dart (~20 strings)
Status: COMPLETED
Note: Added 21 new l10n keys to all 34 language ARB files. Keys added: addAppSelectCoreCapability,
addAppSelectPaymentPlan, addAppSelectCapability, addAppSelectLogo, addAppEnterChatPrompt,
addAppEnterConversationPrompt, addAppSelectTriggerEvent, addAppEnterWebhookUrl, addAppSelectCategory,
addAppFillRequiredFields, addAppUpdatedSuccess, addAppUpdateFailed, addAppSubmittedSuccess,
addAppErrorOpeningFilePicker (with placeholder), addAppErrorSelectingImage (with placeholder),
addAppPhotosPermissionDenied, addAppErrorSelectingImageRetry, addAppErrorSelectingThumbnail
(with placeholder), addAppErrorSelectingThumbnailRetry, addAppCapabilityConflictWithPersona,
addAppPersonaConflictWithCapabilities.

### [x] pages/persona/persona_provider.dart (~15 strings)
Status: COMPLETED
Note: Added 13 new l10n keys to all 34 language ARB files and updated the Dart file to use
MyApp.navigatorKey.currentContext!.l10n pattern. Keys added: personaTwitterHandleNotFound,
personaTwitterHandleSuspended, personaFailedToVerifyTwitter, personaFailedToFetch, personaFailedToCreate,
personaConnectKnowledgeSource, personaUpdatedSuccessfully, personaFailedToUpdate, personaPleaseSelectImage,
personaFailedToCreateTryLater, personaFailedToCreateWithError (with placeholder), personaFailedToEnable,
personaErrorEnablingWithError (with placeholder).

### [x] pages/payments/payment_method_provider.dart (3 strings)
Status: COMPLETED
Note: Added 3 new l10n keys to all 34 language ARB files and updated the Dart file to use
MyApp.navigatorKey.currentContext!.l10n pattern. Keys added: paymentFailedToFetchCountries,
paymentFailedToSetDefault, paymentFailedToSavePaypal.

### [x] pages/payments/paypal_setup_page.dart (2 strings)
Status: COMPLETED
Note: Updated Dart file to use existing l10n keys (paypalEmailHint, paypalMeLinkHint) for placeholder
hint texts. Removed const from InputDecoration to allow non-constant l10n values. Keys were already
in ARB files from previous session.

### [x] pages/payments/models/payment_method_config.dart (4 strings)
Status: COMPLETED
Note: Added 5 new l10n keys to all 34 language ARB files. Refactored PaymentMethodConfig class to
accept localized title and subtitle as constructor parameters instead of hardcoding them. Updated
payments_page.dart to pass localized strings using context.l10n pattern. Keys added:
paymentMethodStripe, paymentMethodPayPal, paymentStatusActive, paymentStatusConnected,
paymentStatusNotConnected.

================================================================================
## PRIORITY 2: MEDIUM IMPACT - Settings & Configuration (~30 strings)
================================================================================

### [x] pages/apps/widgets/payment_details_widget.dart (5 strings)
Status: COMPLETED
Note: Added 5 new l10n keys to all 34 language ARB files and updated the Dart file to use
context.l10n pattern. Keys added: paymentAppCost, paymentEnterValidAmount,
paymentEnterAmountGreaterThanZero, paymentPlan, paymentNoneSelected.
The hintText '20' is a numeric placeholder example and doesn't require localization.

### [x] pages/settings/ai_app_generator_provider.dart (9 strings)
Status: COMPLETED
Note: Added 9 new l10n keys to all 34 language ARB files and updated the Dart file to use
MyApp.navigatorKey.currentContext!.l10n pattern. Keys added: aiGenPleaseEnterDescription,
aiGenCreatingAppIcon, aiGenErrorOccurredWithDetails (with placeholder), aiGenAppCreatedSuccessfully,
aiGenFailedToCreateApp, aiGenErrorWhileCreatingApp, aiGenFailedToGenerateApp, aiGenFailedToRegenerateIcon,
aiGenPleaseGenerateAppFirst.

### [x] pages/persona/twitter/social_profile.dart (7 strings)
Status: COMPLETED
Note: Added 7 new l10n keys to all 34 language ARB files and updated the Dart file to use
context.l10n pattern. Keys added: xHandleTitle, xHandleDescription, xHandleHint,
xHandlePleaseEnter, xHandlePleaseEnterValid, nextButton, connectOmiDevice.
The original audit identified only 3 strings but 7 were actually found upon closer inspection.

### [x] pages/settings/widgets/plans_sheet.dart (3 strings)
Status: COMPLETED
Note: Added 7 new l10n keys to all 34 language ARB files and updated the Dart file to use
context.l10n pattern. Keys added: planSwitchingDescriptionWithTitle (with placeholder),
planUpgradeScheduledMessage, couldNotSchedulePlanChange, subscriptionReactivatedDefault,
subscriptionSuccessfulCharged, couldNotProcessSubscription, couldNotLaunchUpgradePage.
Reused existing keys: confirmPlanChange, confirmAndProceed, cancel, anErrorOccurredTryAgain,
couldNotOpenPaymentSettings, managePaymentMethod.
The original audit identified 3 strings but the file had 13+ hardcoded strings requiring localization.

### [x] pages/settings/transcription_settings_page.dart (2 strings)
Status: COMPLETED
Note: Added 2 new l10n keys to all 34 language ARB files and updated the Dart file to use
context.l10n pattern. Keys added: transcriptionJsonPlaceholder, transcriptionSourceOmi.
The JSON placeholder was changed from a literal JSON example to "Paste your JSON configuration here..."
to avoid ICU message format conflicts with curly braces.
Ran flutter gen-l10n and verified with test.sh.

### [x] pages/settings/ai_app_generator_page.dart (1 string)
Status: COMPLETED
Note: Added 1 new l10n key to all 34 language ARB files and updated the Dart file to use
context.l10n pattern. Key added: pricePlaceholder.
The value "0.00" is a numeric format placeholder and remains the same across all languages.
Ran flutter gen-l10n and verified with test.sh.

### [x] pages/settings/import_history_page.dart (2 strings)
Status: COMPLETED
Note: Added 2 new l10n keys to all 34 language ARB files and updated the Dart file to use
context.l10n pattern. Keys added: importErrorOpeningFilePicker (with placeholder),
importErrorGeneric (with placeholder).
Ran flutter gen-l10n and verified with test.sh.

### [ ] pages/apps/app_detail/app_detail.dart (1 string)
Status: PENDING
Strings:
- [ ] Line 227: 'Error: ...' (error with param)

================================================================================
## PRIORITY 3: NOTIFICATIONS & SERVICES (~10 strings)
================================================================================

### [ ] services/notifications/merge_notification_handler.dart (2 strings)
Status: PENDING
Strings:
- [ ] Line 85: 'Conversations Merged Successfully' (notification title)
- [ ] Line 86: '... conversations have been merged successfully' (notification body with param)

### [ ] services/notifications/daily_reflection_notification.dart (2 strings)
Status: PENDING
Strings:
- [ ] Line 40: 'Time for Daily Reflection' (notification title)
- [ ] Line 41: 'Tell me about your day' (notification body)

### [ ] services/notifications/action_item_notification_handler.dart (1 string)
Status: PENDING
Strings:
- [ ] Line 42: 'Omi Reminder' (notification title)

### [ ] services/devices/device_connection.dart (2 strings)
Status: PENDING
Strings:
- [ ] Line 535: '... Disconnected' (notification title with param)
- [ ] Line 536: 'Please reconnect to continue using your ...' (notification body with param)

### [ ] services/devices/models.dart (1 string)
Status: PENDING
Strings:
- [ ] Line 72: 'Looks like the device is not connected...' (error message)

================================================================================
## PRIORITY 4: DESKTOP APP (~15 strings)
================================================================================

### [ ] desktop/pages/onboarding/desktop_onboarding_wrapper.dart (5 strings)
Status: PENDING
Strings:
- [ ] Line 37: 'Sign In' (step title)
- [ ] Line 43: 'Your Name' (step title)
- [ ] Line 49: 'Language' (step title)
- [ ] Line 55: 'Permissions' (step title)
- [ ] Line 61: 'Complete' (step title)

### [ ] desktop/pages/settings/desktop_settings_modal.dart (2 strings)
Status: PENDING
Strings:
- [ ] Line 2286: 'https://omi.me' (website - may be intentional)
- [ ] Line 2294: 'team@basedhardware.com' (email - may be intentional)

### [ ] desktop/pages/conversations/widgets/desktop_name_speaker_dialog.dart (3 strings)
Status: PENDING
Strings:
- [ ] Line 251: 'Enter Person\'s Name' (hintText)
- [ ] Line 272: 'Cancel' (button)
- [ ] Line 476: 'Save' (button)

================================================================================
## PRIORITY 5: LOWER IMPACT (~5 strings)
================================================================================

### [ ] pages/conversation_detail/page.dart (1 string)
Status: PENDING
Strings:
- [ ] Line 991: 'Search transcript or summary...' (hintText)

### [ ] pages/conversations/widgets/goal_tracker_widget.dart (1 string)
Status: PENDING
Strings:
- [ ] Line 381: 'My goal' (default title)

### [ ] main.dart (1 string)
Status: PENDING
Strings:
- [ ] Line 209: 'Omi' (desktop window title)

================================================================================
## CHANGELOG
================================================================================

[2026-01-20] Localized import_history_page.dart
- Added 2 new l10n keys to all 34 language ARB files
- Updated Dart file to use context.l10n pattern
- Keys: importErrorOpeningFilePicker (with placeholder), importErrorGeneric (with placeholder)
- Both keys include {message}/{error} placeholders for error details
- Ran flutter gen-l10n and verified with test.sh

[2026-01-20] Localized ai_app_generator_page.dart
- Added 1 new l10n key to all 34 language ARB files
- Updated Dart file to use context.l10n pattern
- Key: pricePlaceholder
- Value "0.00" is a numeric format placeholder, same across all languages
- Ran flutter gen-l10n and verified with test.sh

[2026-01-20] Localized transcription_settings_page.dart
- Added 2 new l10n keys to all 34 language ARB files
- Updated Dart file to use context.l10n pattern
- Keys: transcriptionJsonPlaceholder, transcriptionSourceOmi
- Changed JSON placeholder from literal example to user-friendly text to avoid ICU format conflicts
- Ran flutter gen-l10n and verified with test.sh

[2026-01-20] Localized plans_sheet.dart
- Added 7 new l10n keys to all 34 language ARB files
- Updated Dart file to use context.l10n pattern
- Keys: planSwitchingDescriptionWithTitle (with placeholder), planUpgradeScheduledMessage,
  couldNotSchedulePlanChange, subscriptionReactivatedDefault, subscriptionSuccessfulCharged,
  couldNotProcessSubscription, couldNotLaunchUpgradePage
- Reused 6 existing keys: confirmPlanChange, confirmAndProceed, cancel, anErrorOccurredTryAgain,
  couldNotOpenPaymentSettings, managePaymentMethod
- Fixed null safety issue with selectedPrice!.title
- Ran flutter gen-l10n and verified with test.sh

[2026-01-20] Localized social_profile.dart
- Added 7 new l10n keys to all 34 language ARB files
- Updated Dart file to use context.l10n pattern
- Keys: xHandleTitle, xHandleDescription, xHandleHint, xHandlePleaseEnter, xHandlePleaseEnterValid,
  nextButton, connectOmiDevice
- Original audit found 3 strings, but 7 were actually in the file
- Ran flutter gen-l10n and verified with test.sh

[2026-01-20] Localized ai_app_generator_provider.dart
- Added 9 new l10n keys to all 34 language ARB files
- Updated Dart file to use MyApp.navigatorKey.currentContext!.l10n pattern
- Keys: aiGenPleaseEnterDescription, aiGenCreatingAppIcon, aiGenErrorOccurredWithDetails (with placeholder),
  aiGenAppCreatedSuccessfully, aiGenFailedToCreateApp, aiGenErrorWhileCreatingApp, aiGenFailedToGenerateApp,
  aiGenFailedToRegenerateIcon, aiGenPleaseGenerateAppFirst
- Ran flutter gen-l10n and verified with test.sh

[2026-01-20] Localized payment_details_widget.dart
- Added 5 new l10n keys to all 34 language ARB files
- Updated Dart file to use context.l10n pattern
- Keys: paymentAppCost, paymentEnterValidAmount, paymentEnterAmountGreaterThanZero, paymentPlan, paymentNoneSelected
- Ran flutter gen-l10n and verified with test.sh

[2026-01-20] Localized payment_method_config.dart
- Added 5 new l10n keys to all 34 language ARB files
- Refactored PaymentMethodConfig class to accept localized title and subtitle parameters
- Updated payments_page.dart to pass localized strings using context.l10n pattern
- Keys: paymentMethodStripe, paymentMethodPayPal, paymentStatusActive, paymentStatusConnected, paymentStatusNotConnected
- Ran flutter gen-l10n and verified with test.sh

[2026-01-20] Localized paypal_setup_page.dart
- Updated Dart file to use existing l10n keys: paypalEmailHint, paypalMeLinkHint
- Removed const from InputDecoration to allow non-constant l10n values
- Ran flutter gen-l10n and verified with test.sh

[2026-01-20] Localized payment_method_provider.dart
- Added 3 new l10n keys to all 34 language ARB files
- Updated Dart file to use MyApp.navigatorKey.currentContext!.l10n pattern
- Keys: paymentFailedToFetchCountries, paymentFailedToSetDefault, paymentFailedToSavePaypal
- Ran flutter gen-l10n and verified with test.sh

[2026-01-20] Localized persona_provider.dart
- Added 13 new l10n keys to all 34 language ARB files
- Updated Dart file to use MyApp.navigatorKey.currentContext!.l10n pattern
- Keys cover Twitter verification, persona CRUD operations, and error messages
- Two keys with placeholders for error details: personaFailedToCreateWithError, personaErrorEnablingWithError
- Ran flutter gen-l10n and verified with test.sh

[2026-01-20] Localized add_app_provider.dart
- Added 21 new l10n keys to all 34 language ARB files
- Updated Dart file to use MyApp.navigatorKey.currentContext!.l10n pattern
- Keys cover validation errors, success/error messages, and capability conflicts
- Ran flutter gen-l10n and verified with test.sh

[2026-01-20] Localized create_template_bottom_sheet.dart
- Added 14 new l10n keys to all 34 language ARB files
- Updated Dart file to use context.l10n pattern
- Ran flutter gen-l10n and verified with test.sh

[2026-01-20] Initial audit completed
- Identified 27 files with hardcoded strings
- Found ~125 strings needing localization
- Created PRD.MD and progress.txt
- Previous progress.txt was inaccurate (claimed 100% complete)

================================================================================
## NOTES
================================================================================

- Use `jq` CLI to add keys to ARB files (never read full files)
- Run `cd app && flutter gen-l10n` after ARB updates
- Run `app/test.sh` to verify changes
- Supported languages: 34
- Some notification strings may not have BuildContext access

================================================================================
Legend:
[ ] = Pending
[~] = In Progress
[x] = Completed
