# Disconnect Issue A/B Comparison Report (3x Measurements)

## Test Configuration
- **Device:** Pixel 7a
- **Android Version:** 16
- **Duration:** 60s per run, 3 runs per version
- **Date:** 2026-02-03

## Versions Compared
- **Build 659:** Commit 071968072 (reported disconnect issues)
- **Main Branch:** profiling/disconnect-ab-comparison (with battery drain fixes)

## Raw Measurements

| Version | Run | Segments | Disconnects | Avg CPU |
|---------|-----|----------|-------------|---------|
| Main | 1 | 10 | 0 | 47.5% |
| Main | 2 | 20 | 0 | 38.0% |
| Main | 3 | 19 | 0 | 34.0% |
| Build 659 | 1 | 3* | 0 | 25.8% |
| Build 659 | 2 | 19 | 0 | 38.7% |
| Build 659 | 3 | 18 | 0 | 38.2% |

*Run 1 for Build 659 had delayed device connection

## Summary Statistics

| Metric | Main Branch (avg) | Build 659 (avg) | Delta |
|--------|-------------------|-----------------|-------|
| **Segments** | 16.3 | 13.3 | +3.0 |
| **Disconnects** | 0 | 0 | 0 |
| **Avg CPU** | 39.8% | 34.2% | +5.6% |

## Key Findings

### 1. No Disconnects Observed
**0 disconnects in all 6 measurements** on Pixel 7a (Android 16).

The reported "constant disconnects" issue on Samsung SM-F966U1 is likely:
- **Device-specific** - Samsung foldable may have different BLE behavior
- **Network/environment specific** - WiFi interference, distance, etc.
- **Intermittent** - May require extended testing (hours, not minutes)

### 2. CPU Usage is Similar Between Versions
- Main branch: ~40% average CPU
- Build 659: ~34% average CPU
- Difference: ~6% (within normal variance)

**Note:** Earlier measurements showing 100%+ CPU on main branch were anomalies, likely due to:
- App startup overhead
- Background processes
- Shimmer animations during specific UI states

### 3. Segment Processing Rate
Both versions process segments at similar rates (~1 segment every 3-4 seconds during active conversation).

## Recommendations

1. **Test on Samsung SM-F966U1** - The device that reported the issue
2. **Extended testing** - Run tests for 30+ minutes to catch intermittent issues  
3. **Monitor Mixpanel** - Check disconnect events in analytics for pattern detection
4. **Check BLE stack differences** - Samsung One UI may handle BLE reconnection differently

## Conclusion

On Pixel 7a, both Build 659 and Main Branch show **stable BLE connections** with **no disconnects** observed across 6 test runs. The reported disconnect issue appears to be **device-specific** or **environment-specific**, not a regression in the main branch.

---
*Generated by automated A/B profiling comparison*
