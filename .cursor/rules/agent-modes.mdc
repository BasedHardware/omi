---
description: "Guidance on when and how to use different agent modes: Agent, Ask, Plan, and Debug"
alwaysApply: false
references:
  - https://cursor.com/docs/agent/modes
---

# Agent Modes

Cursor Agent offers different modes optimized for specific tasks. Choose the right mode based on your needs.

## Mode Overview

| Mode | Best For | Capabilities | Tools |
|------|----------|--------------|-------|
| **Agent** | Complex features, refactoring | Autonomous exploration, multi-file edits | All tools enabled |
| **Ask** | Learning, planning, questions | Read-only exploration, no automatic changes | Search tools only |
| **Plan** | Complex features requiring planning | Creates detailed plans before execution | All tools enabled |
| **Debug** | Tricky bugs, regressions | Hypothesis generation, log instrumentation, runtime analysis | All tools + debug server |

## When to Use Each Mode

### Agent Mode (Default)

**Use Agent Mode when:**
- Implementing complex features that require multiple file changes
- Refactoring code across the codebase
- You want autonomous exploration and automatic fixes
- The task is clear and well-defined
- You need the agent to make changes automatically

**Example tasks:**
- "Add a new API endpoint for goals"
- "Refactor the authentication system"
- "Update all components to use the new design system"

**Best practices:**
- Provide clear, specific instructions
- Break large tasks into smaller chunks
- Review changes before accepting
- Use `/code-review` after agent completes

### Ask Mode

**Use Ask Mode when:**
- Learning about unfamiliar code
- Understanding how a system works
- Planning before implementation
- Exploring codebase structure
- You want read-only exploration

**Example tasks:**
- "How does authentication work in this codebase?"
- "Explain the memory extraction flow"
- "What happens when a user submits a form?"
- "Show me all the API endpoints"

**Best practices:**
- Start broad, then narrow down
- Ask follow-up questions to build understanding
- Use for research before making changes
- Switch to Agent or Plan mode when ready to implement

### Plan Mode

**Use Plan Mode when:**
- Complex features with multiple valid approaches
- Tasks that touch many files or systems
- Unclear requirements need exploration
- Architectural decisions need review
- You want to review the approach before building

**Example tasks:**
- "Add user preferences system"
- "Implement real-time notifications"
- "Refactor the data layer"

**Best practices:**
- Press `Shift+Tab` to switch to Plan Mode
- Answer clarifying questions thoroughly
- Review and edit the plan before building
- Save plans to `.cursor/plans/` for reference
- Start over from plan if implementation doesn't match

**Plan Mode workflow:**
1. Agent asks clarifying questions
2. Researches codebase to gather context
3. Creates comprehensive implementation plan
4. You review and edit the plan
5. Click to build when ready

### Debug Mode

**Use Debug Mode when:**
- Bugs you can reproduce but can't figure out
- Race conditions and timing issues
- Performance problems and memory leaks
- Regressions where something used to work
- Standard Agent interactions struggle with a bug

**Example tasks:**
- "The audio streaming stops after 30 seconds"
- "Memory extraction fails for some conversations"
- "BLE connection drops intermittently"

**Best practices:**
- Provide detailed context about the bug
- Include error messages and stack traces
- Follow reproduction steps exactly
- Reproduce multiple times if needed
- Be specific about expected vs actual behavior

**Debug Mode workflow:**
1. Explore and hypothesize about root causes
2. Add instrumentation (log statements)
3. Reproduce the bug with provided steps
4. Analyze collected logs
5. Make targeted fix based on evidence
6. Verify and clean up instrumentation

## Mode Selection Guide

**Quick decision tree:**
- Need to understand code? → **Ask Mode**
- Complex task, want to review approach? → **Plan Mode**
- Bug that's hard to debug? → **Debug Mode**
- Clear task, ready to implement? → **Agent Mode**

## Switching Modes

- Use the mode picker dropdown in Agent
- Press `Cmd+.` (Mac) or `Ctrl+.` (Windows/Linux) for quick switching
- Set keyboard shortcuts in Cursor settings

## Mode-Specific Settings

**Agent Mode:**
- Auto-run and Auto-fix Errors: Automatically run commands and fix errors

**Ask Mode:**
- Search Codebase: Automatically find relevant files

**Plan Mode:**
- Plans saved to `.cursor/plans/` when you click "Save to workspace"

**Debug Mode:**
- Debug server runs locally in Cursor extension
- Logs collected during reproduction

## Combining Modes

**Common workflow:**
1. Start in **Ask Mode** to understand the codebase
2. Switch to **Plan Mode** to create implementation plan
3. Switch to **Agent Mode** to implement
4. Use **Debug Mode** if issues arise

## Related Resources

### Rules
- `.cursor/rules/codebase-overview.mdc` - System architecture
- `.cursor/rules/verification.mdc` - Verification after implementation
- `.cursor/rules/testing.mdc` - Testing requirements

### Commands
- `/plan` - Plan mode workflow guidance
- `/ask` - Ask mode usage
- `/debug` - Debug mode workflow
- `/code-review` - Review agent-generated code

### Skills
- `.cursor/skills/agent-modes/` - Agent modes guidance
- `.cursor/skills/debug-mode/` - Debug workflows