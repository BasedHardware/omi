---
description: "Browser automation patterns for web testing, design-to-code, and accessibility auditing"
alwaysApply: false
globs:
  - "web/**/*.{tsx,ts,jsx,js}"
  - "app/**/*web*.dart"
references:
  - https://cursor.com/docs/agent/browser
---

# Agent Browser

Agent can control a web browser to test applications, visually edit layouts, audit accessibility, convert designs into code, and more.

## Browser Capabilities

### Available Tools

- **Navigate**: Navigate to URLs
- **Click**: Click elements on the page
- **Type**: Type text into inputs
- **Scroll**: Scroll the page
- **Screenshot**: Capture page state
- **Console Output**: Read browser console logs
- **Network Traffic**: Monitor network requests

### Use Cases

**Web Development:**
- Test applications in real browser
- Verify UI changes
- Test responsive designs
- Validate forms and workflows

**Design to Code:**
- Convert design mockups to code
- Match layouts, colors, spacing
- Generate pixel-perfect implementations

**Accessibility:**
- Audit WCAG compliance
- Check color contrast
- Verify semantic HTML
- Test keyboard navigation

**Automated Testing:**
- Execute test suites
- Visual regression testing
- Form validation
- Error state testing

## Browser Workflows

### Testing Applications

**Example:**
```
@browser Test the login flow:
1. Navigate to /login
2. Fill in email and password
3. Click submit
4. Verify redirect to dashboard
5. Check for console errors
```

### Design to Code

**Example:**
```
@browser Analyze this design mockup and generate the HTML/CSS code
```

### Accessibility Auditing

**Example:**
```
@browser Check accessibility:
- Color contrast ratios
- Semantic HTML
- ARIA labels
- Keyboard navigation
```

## Browser Security

### Approval Settings

**Default**: Browser tools require manual approval
- Review each action before execution
- Prevents unexpected navigation or data submission

**Configuration:**
- `Cursor Settings` → `Chat` → `Auto-Run`
- **Manual approval** (recommended)
- **Allow-listed actions** (selective auto-run)
- **Auto-run** (use with caution)

### Allow and Block Lists

Configure trusted actions:
- **Allow list**: Actions that skip approval
- **Block list**: Actions always blocked
- Access via: `Cursor Settings` → `Chat` → `Auto-Run`

**Security Note**: Auto-run mode can execute scripts or submit data without approval. Never use with untrusted code or unfamiliar websites.

## Design Sidebar

The browser includes a design sidebar for visual editing:

**Capabilities:**
- Position and layout adjustments
- Dimensions (width, height, padding, margins)
- Colors and gradients
- Appearance (shadows, opacity, border radius)
- Theme testing (light/dark)

**Workflow:**
1. Make visual adjustments in sidebar
2. Click "Apply" to update codebase
3. Agent translates visual changes to code
4. Changes appear after hot-reload

## Session Persistence

Browser state persists between sessions:
- **Cookies**: Authentication cookies remain
- **Local Storage**: localStorage and sessionStorage persist
- **IndexedDB**: Database content retained
- **Isolated per workspace**: Different projects maintain separate state

## Best Practices

### For Web Development

1. **Use for testing**: Verify UI changes work correctly
2. **Test responsive designs**: Check different screen sizes
3. **Verify forms**: Test form validation and submission
4. **Check console**: Monitor for JavaScript errors
5. **Test workflows**: Complete user flows end-to-end

### For Design to Code

1. **Provide clear mockups**: High-quality design images
2. **Specify requirements**: Colors, spacing, typography
3. **Review generated code**: Verify matches design
4. **Iterate visually**: Use design sidebar for adjustments

### For Accessibility

1. **Regular audits**: Run accessibility checks
2. **Fix issues systematically**: Address WCAG violations
3. **Test keyboard navigation**: Verify keyboard-only usage
4. **Check color contrast**: Ensure sufficient contrast ratios

## Omi-Specific Patterns

### Web Frontend Testing

**Test Next.js apps:**
- Navigate to pages
- Test API route responses
- Verify Firebase integration
- Check UI component rendering

**Test Flutter Web:**
- Test web views in Flutter app
- Verify responsive layouts
- Test platform-specific web code

### Design System Validation

**Test with browser:**
- Verify Radix UI components
- Check Shadcn/ui styling
- Validate theme consistency
- Test dark/light mode

## Related Resources

### Rules
- `.cursor/rules/web-nextjs-patterns.mdc` - Next.js patterns
- `.cursor/rules/web-ui-components.mdc` - UI component patterns

### Commands
- `/browser-test` - Browser testing workflow
- `/accessibility-audit` - Accessibility auditing

### Skills
- `.cursor/skills/browser-automation/` - Browser automation

### Agents
- `.cursor/skills/browser-automation/agents/browser-automation.md` - Browser specialist

### Documentation
- [Cursor Browser Docs](https://cursor.com/docs/agent/browser)