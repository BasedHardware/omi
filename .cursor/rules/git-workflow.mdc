---
description: "Git workflow branching pull request process contribution guidelines commit messages feature branches code review"
alwaysApply: true
---

# Git Workflow

## Branching Strategy

### Main Branch

- **`main`**: Production-ready code
- All commits to `main` should be via pull requests
- `main` should always be in a deployable state

### Feature Branches

```bash
# Create feature branch
git checkout -b feature/my-feature

# Work on feature
git add .
git commit -m "Add feature"

# Push and create PR
git push origin feature/my-feature
```

### Branch Naming

- `feature/` - New features
- `fix/` - Bug fixes
- `docs/` - Documentation updates
- `refactor/` - Code refactoring
- `test/` - Test additions/updates

## Pull Request Process

### Before Creating PR

1. **Run tests**
   ```bash
   # Backend
   cd backend && ./test.sh
   
   # Flutter
   cd app && ./test.sh
   ```

2. **Format code**
   ```bash
   # Backend
   black --line-length 120 backend/
   
   # Flutter
   dart format --line-length 120 app/
   ```

3. **Lint code**
   ```bash
   # Backend
   flake8 backend/
   
   # Flutter
   flutter analyze app/
   ```

### PR Requirements

1. **Clear title**: Descriptive PR title
2. **Description**: Explain what and why
3. **Related issue**: Link to related issue (if applicable)
4. **Tests**: Include tests for new features
5. **Documentation**: Update docs if needed

### PR Template

```markdown
## Description
Brief description of changes

## Related Issue
Closes #123

## Type of Change
- [ ] Bug fix
- [ ] New feature
- [ ] Breaking change
- [ ] Documentation update

## Testing
- [ ] Tests pass
- [ ] Manual testing completed

## Checklist
- [ ] Code follows project style guidelines
- [ ] Self-review completed
- [ ] Comments added for complex code
- [ ] Documentation updated
```

## Commit Messages

### Format

```
type(scope): subject

body (optional)

footer (optional)
```

### Types

- `feat`: New feature
- `fix`: Bug fix
- `docs`: Documentation
- `style`: Formatting
- `refactor`: Code refactoring
- `test`: Tests
- `chore`: Maintenance

### Examples

```
feat(backend): add memory extraction endpoint

fix(app): resolve BLE connection issue on iOS

docs(api): update API reference documentation
```

## Contribution Guidelines

### Code Standards

1. **Follow project conventions**: See `AGENTS.md` and `CLAUDE.md`
2. **Write tests**: Include tests for new features
3. **Update documentation**: Keep docs in sync with code
4. **Format code**: Use project formatters
5. **Review your own code**: Self-review before requesting review

### Review Process

1. **Create PR**: Push branch and create PR
2. **Wait for review**: Address review comments
3. **Update PR**: Make requested changes
4. **Merge**: After approval, merge PR

### Contribution Rewards

See `docs/doc/developer/Contribution.mdx` for contribution rewards:
- 1 PR: Free DevKit device
- 2 PRs: $100 transcription credits
- 5 PRs: $500 credits + Contributor role
- 10 PRs: Trip to San Francisco

## Best Practices

1. **Small PRs**: Keep PRs focused and small
2. **Clear commits**: Write clear commit messages
3. **Test before PR**: Always run tests before creating PR
4. **Update docs**: Keep documentation updated
5. **Follow conventions**: Adhere to project coding standards

## Related Documentation

- Contribution Guide: `docs/doc/developer/Contribution.mdx`
- Coding Guidelines: `AGENTS.md`, `CLAUDE.md`
