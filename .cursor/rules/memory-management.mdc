---
description: "Memory management - free large objects immediately after use"
globs:
  - "backend/**/*.py"
alwaysApply: false
references:
  - backend/README.md
---

# Memory Management

Free large objects immediately after use to prevent memory leaks and improve performance.

## Examples

- Use `del` for byte arrays after processing
- Use `.clear()` for dicts/lists holding large amounts of data
- Close file handles and database connections promptly
- Release resources in finally blocks or context managers

```python
# Good
def process_large_data():
    data = load_large_dataset()  # Large byte array
    result = process(data)
    del data  # Free memory immediately
    return result

# Good
def process_dict():
    cache = {}
    # ... populate cache with large data ...
    result = use_cache(cache)
    cache.clear()  # Free memory
    return result
```

## Related Cursor Resources

### Rules
- `.cursor/rules/backend-architecture.mdc` - Backend architecture patterns

### Skills
- `.cursor/skills/omi-backend-patterns/` - Backend patterns including memory management

### Subagents
- `.cursor/agents/backend-api-developer/` - Follows memory management practices
- `.cursor/agents/backend-llm-engineer/` - Handles large LLM responses
- `.cursor/agents/backend-database-engineer/` - Manages database connections
